1. 队列设计思路

定义 
𝐿
=
max
⁡
𝑖
𝑇
𝑖
L=max
i
	​

T
i
	​

：最大时延约束。

在车辆和 RSU 两侧，各自都有 
𝐿
L 条（或 
𝐿
−
1
L−1 条）缓存队列，队列编号从 1 到 L：

队列 l 表示：该队列中的数据还有 l 个时隙就到截止时间。


每过一个时隙，所有没被处理/转移的数据队列索引减 1，直到到达队列 1，如果再不处理就被丢弃并产生惩罚。

2. 车辆侧多队列：图 2(a)

图 2(a) 把车辆侧队列的流入与流出画得非常清楚：


以队列 l（1 ≤ l < L）为例：

输入来源（3 个）：

本车队列 l+1 中上一时隙没处理的数据（由于剩余寿命减 1）；

当前时隙新生成、时延约束 = l 的数据；

上一时隙由其它车辆 V2 通过 V2V 迁移过来的、队列索引为 l+1 的数据。

输出去向（4 种）：

Offload：发给 RSU，对应 RSU 侧的队列 l-1（剩余寿命减 1，且经过一跳）；

Migrate：发给其他协同车辆，对应对方车辆队列 l-1；

Local compute：本地处理掉一部分数据；

Remain：如果没处理完且 l>1，则余下数据留到本车队列 l-1；如果 l=1 还没处理完，任务过期，被删除并计入惩罚损失。

当 l = L 时，车辆侧队列 L 只有一种输入：新产生的、最大时延任务，输出形式同上四种。

3. RSU 侧多队列：


RSU 本身不产生数据，所以它的最大队列号是 L−1（最短也要 1 个时隙从车传到 RSU）；

对于队列 l（1≤l<L−1）：

输入（2 个）：

自己队列 l+1 上一时隙没处理完的；

上一时隙由车辆通过 V2I 卸载、且当时剩余寿命为 l+1 的数据。

输出（2 个）：

ECN 计算处理；

未处理部分进入队列 l−1（或在 l=1 时过期删除）。

对于队列 l=L−1：只有从车辆那卸载来的数据为输入，输出同上。这一段给我md格式