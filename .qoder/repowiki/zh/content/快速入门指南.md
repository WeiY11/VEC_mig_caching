# 快速入门指南

<cite>
**本文档引用的文件**   
- [README.md](file://README.md)
- [vec_system_config.json](file://vec_system_config.json)
- [demo.py](file://demo.py)
- [train_multi_agent.py](file://train_multi_agent.py)
- [run_full_experiment.py](file://run_full_experiment.py)
- [visualize_results.py](file://visualize_results.py)
</cite>

## 目录
1. [简介](#简介)
2. [环境配置](#环境配置)
3. [配置文件准备](#配置文件准备)
4. [功能启动指南](#功能启动指南)
5. [常见问题排查](#常见问题排查)
6. [从演示到完整实验](#从演示到完整实验)

## 简介

VEC_mig_caching系统是一个基于多智能体深度强化学习的车联网边缘缓存系统，采用MATD3算法优化缓存决策和任务卸载策略。本指南将帮助新手开发者快速在本地环境中运行该系统，从基础演示到完整实验。

**Section sources**
- [README.md](file://README.md#L1-L10)

## 环境配置

### 创建虚拟环境
建议使用conda创建独立的Python环境：

```bash
conda create -n MATD3 python=3.8
conda activate MATD3
```

### 安装依赖包
系统需要以下Python包：

```bash
pip install torch numpy matplotlib pandas seaborn
```

**验证安装**
安装完成后，可以通过以下命令验证关键依赖是否正常：

```bash
python -c "import torch, numpy, matplotlib; print('✅ 所有依赖安装成功')"
```

如果使用GPU，请验证CUDA是否可用：

```bash
python -c "import torch; print(f'✅ CUDA可用: {torch.cuda.is_available()}')"
```

**Section sources**
- [README.md](file://README.md#L39-L41)

## 配置文件准备

系统使用`vec_system_config.json`文件进行参数配置。该文件包含了仿真时间、任务生成、网络拓扑等关键参数。

### 配置文件结构
```json
{
    "time_settings": {
        "time_slot_duration": 0.2,
        "simulation_time": 1000
    },
    "task_generation": {
        "arrival_rate": 1.35,
        "data_size_range": [5000000.0, 25000000.0],
        "compute_density": 500,
        "deadline_range": [3.5, 25.0],
        "output_ratio": 0.05
    },
    "network_topology": {
        "num_vehicles": 12,
        "num_rsus": 6,
        "num_uavs": 2,
        "area_width": 2500,
        "area_height": 2500,
        "rsu_coverage_radius": 360
    },
    // ... 其他配置
}
```

### 关键参数说明
- **time_slot_duration**: 时隙持续时间（秒）
- **arrival_rate**: 任务到达率（tasks/秒）
- **data_size_range**: 任务数据大小范围（字节）
- **num_vehicles**: 车辆数量
- **num_rsus**: RSU（路侧单元）数量
- **num_uavs**: UAV（无人机）数量

**Section sources**
- [vec_system_config.json](file://vec_system_config.json#L1-L69)

## 功能启动指南

### 运行基础演示
通过`demo.py`脚本查看系统基础演示：

```bash
python demo.py
```

预期输出将显示系统架构、算法特性和性能指标。

**Section sources**
- [demo.py](file://demo.py#L1-L197)

### 训练MATD3模型
使用`train_multi_agent.py`脚本训练MATD3模型：

```bash
python train_multi_agent.py --algorithm MATD3 --episodes 200
```

也可以训练其他算法：
```bash
python train_multi_agent.py --algorithm MADDPG --episodes 200
python train_multi_agent.py --algorithm QMIX --episodes 200
```

**Section sources**
- [train_multi_agent.py](file://train_multi_agent.py#L1-L799)

### 执行完整实验
运行`run_full_experiment.py`进行完整实验评估：

```bash
python run_full_experiment.py --episodes 10 --runs 3
```

该脚本将运行多个实验场景（标准、高负载、大规模）并生成详细的性能对比。

**Section sources**
- [run_full_experiment.py](file://run_full_experiment.py#L1-L607)

### 生成性能图表
使用`visualize_results.py`生成实验结果的可视化图表：

```bash
python visualize_results.py
```

该脚本将生成性能对比图和改进效果图，并保存在`results/`目录下。

**Section sources**
- [visualize_results.py](file://visualize_results.py#L1-L216)

## 常见问题排查

### CUDA配置问题
如果CUDA不可用，请检查：
1. 是否安装了支持CUDA的PyTorch版本
2. GPU驱动是否正确安装
3. 使用以下命令检查CUDA状态：

```bash
python -c "import torch; print(torch.cuda.is_available()); print(torch.cuda.get_device_name(0) if torch.cuda.is_available() else 'No GPU')"
```

### 版本冲突
如果遇到依赖版本冲突，建议使用虚拟环境并严格按照README中的版本要求安装。

### 文件缺失
确保所有关键文件存在：
- `vec_system_config.json`
- `results/`目录
- 各个功能脚本（demo.py, train_multi_agent.py等）

## 从演示到完整实验

建议按照以下步骤逐步过渡：
1. **基础演示**: 运行`demo.py`了解系统概览
2. **单功能测试**: 分别测试训练、实验和可视化功能
3. **参数调整**: 根据需求修改`vec_system_config.json`中的参数
4. **完整流程**: 运行完整实验并分析结果

通过这种渐进式的学习路径，可以更好地理解系统的工作原理和优化策略。

**Section sources**
- [README.md](file://README.md#L43-L54)
- [demo.py](file://demo.py#L1-L197)
- [train_multi_agent.py](file://train_multi_agent.py#L1-L799)
- [run_full_experiment.py](file://run_full_experiment.py#L1-L607)
- [visualize_results.py](file://visualize_results.py#L1-L216)