# 快速入门指南

<cite>
**本文档中引用的文件**   
- [demo.py](file://demo.py)
- [main.py](file://main.py)
- [run_full_experiment.py](file://run_full_experiment.py)
- [train_multi_agent.py](file://train_multi_agent.py)
- [vec_system_config.json](file://vec_system_config.json)
</cite>

## 目录
1. [简介](#简介)
2. [环境搭建](#环境搭建)
3. [快速运行演示](#快速运行演示)
4. [执行多智能体训练任务](#执行多智能体训练任务)
5. [关键日志输出解析](#关键日志输出解析)
6. [常见问题排查](#常见问题排查)
7. [预期结果说明](#预期结果说明)

## 简介

本指南旨在为新用户提供一个循序渐进的快速入门教程，帮助您完成MATD3-MIG车联网边缘缓存系统的环境搭建、代码运行和基础实验全过程。通过本指南，您将能够：

- 快速验证系统安装的正确性
- 运行最简演示实例
- 执行第一个多智能体训练任务
- 理解系统输出的关键日志信息
- 解决常见问题

系统基于多智能体强化学习算法（MATD3）实现车联网环境下的任务卸载与迁移决策，支持车辆、路边单元（RSU）和无人机（UAV）三类智能体的协同工作。

## 环境搭建

### Python环境配置

本系统需要Python 3.7或更高版本。推荐使用conda创建独立的虚拟环境：

```bash
conda create -n matd3_mig python=3.8
conda activate matd3_mig
```

### 依赖安装

安装系统所需的核心依赖包：

```bash
pip install numpy matplotlib torch torchvision torchaudio
pip install json5 dataclasses typing-extensions
```

### 项目目录结构

系统的主要目录结构如下：
- `algorithms/`：包含MATD3、MADDPG等多智能体算法实现
- `config/`：系统配置文件
- `results/`：实验结果输出目录
- `demo.py`：系统演示脚本
- `main.py`：主程序入口
- `run_full_experiment.py`：完整实验运行脚本
- `train_multi_agent.py`：多智能体训练脚本

**Section sources**
- [main.py](file://main.py#L1-L215)

## 快速运行演示

### 运行最简实例

`demo.py`文件提供了系统的最简运行实例，用于快速验证安装正确性：

```bash
python demo.py
```

该命令将展示系统的核心功能和性能指标，包括系统架构、算法特性和性能表现。

### 演示内容概览

运行`demo.py`后，您将看到以下内容：

1. **系统架构展示**：显示车辆、RSU、UAV三层架构
2. **算法特性说明**：列出MATD3算法的核心特点
3. **性能指标展示**：显示在不同场景下的性能表现
4. **快速开始指南**：提供常用命令的快速参考
5. **项目状态检查**：检查关键文件是否存在

### 预期输出

如果安装正确，您将看到类似以下的输出：

```
╔══════════════════════════════════════════════════════════════════════════════╗
║                    🚗 MATD3-MIG 车联网边缘缓存系统                          ║
║              Multi-Agent Twin Delayed DDPG for Vehicular Edge Caching       ║
╚══════════════════════════════════════════════════════════════════════════════╝
```

**Section sources**
- [demo.py](file://demo.py#L1-L198)

## 执行多智能体训练任务

### 使用main.py启动训练

`main.py`是系统的主程序入口，提供了交互式菜单：

```bash
python main.py
```

这将显示主菜单，您可以选择不同的操作：

```
🎯 请选择操作:

1. 🤖 多智能体训练 (MATD3/MADDPG)
2. 👤 单智能体训练 (DDPG/PPO)  
3. 🧪 运行完整实验
4. 📊 结果可视化
...
```

### 直接运行多智能体训练

您也可以直接运行多智能体训练脚本：

```bash
python train_multi_agent.py --algorithm MATD3 --episodes 100
```

### 训练参数说明

| 参数 | 说明 | 默认值 |
|------|------|--------|
| `--algorithm` | 指定训练算法 | MATD3 |
| `--episodes` | 训练轮次数 | 200 |
| `--compare` | 比较所有算法性能 | False |

### 配置文件说明

系统使用`vec_system_config.json`进行参数配置，主要配置项包括：

- `time_settings`：时间设置
- `task_generation`：任务生成参数
- `network_topology`：网络拓扑参数
- `compute_resources`：计算资源参数

**Section sources**
- [main.py](file://main.py#L1-L215)
- [train_multi_agent.py](file://train_multi_agent.py#L1-L1170)
- [vec_system_config.json](file://vec_system_config.json#L1-L69)

## 关键日志输出解析

### 训练过程日志

当运行多智能体训练时，系统会输出以下关键信息：

```
轮次 10/200:
  平均奖励:    12.345
  平均时延:     1.234s
  完成率:       85.6%
  轮次用时:     5.678s
```

- **平均奖励**：反映智能体策略的优劣，值越大表示策略越好
- **平均时延**：任务处理的平均延迟时间，越小越好
- **完成率**：成功处理的任务比例，越高越好

### 实验结果日志

运行完整实验后，系统会生成详细的性能报告：

```bash
python run_full_experiment.py --episodes 10 --runs 2
```

输出将包括：
- 不同算法的性能对比
- 时延、能耗、完成率等指标
- 缓存命中率统计

### 系统诊断信息

如果遇到问题，可以使用诊断功能：

```bash
python main.py
# 选择选项 6: 🔍 算法诊断
```

这将帮助您识别配置问题或运行时错误。

**Section sources**
- [train_multi_agent.py](file://train_multi_agent.py#L1-L1170)
- [run_full_experiment.py](file://run_full_experiment.py#L1-L608)

## 常见问题排查

### Python版本问题

**问题**：运行时提示需要Python 3.7或更高版本

**解决方案**：
```bash
python --version
# 确保版本为3.7+
conda create -n matd3_mig python=3.8
conda activate matd3_mig
```

### 依赖包缺失

**问题**：导入模块时出现ImportError

**解决方案**：
```bash
pip install numpy matplotlib torch
```

### 结果文件未找到

**问题**：`demo.py`提示"实验结果文件未找到"

**解决方案**：
先运行完整实验生成结果文件：
```bash
python run_full_experiment.py --episodes 2 --runs 1
```

### 训练性能低下

**问题**：训练速度慢或奖励值不收敛

**解决方案**：
1. 检查`vec_system_config.json`中的`parallel_environments`设置
2. 确保有足够的计算资源
3. 考虑减少训练轮次进行初步测试

### 目录权限问题

**问题**：无法创建results目录或保存模型

**解决方案**：
确保当前用户对项目目录有写权限，或手动创建必要目录：
```bash
mkdir -p results/training results/models
```

**Section sources**
- [main.py](file://main.py#L1-L215)
- [demo.py](file://demo.py#L1-L198)
- [vec_system_config.json](file://vec_system_config.json#L1-L69)

## 预期结果说明

### 成功安装验证

运行`demo.py`后，应看到完整的系统信息展示，包括：
- 系统架构图
- 算法特性列表
- 性能指标展示
- 快速开始指南

### 训练过程预期

运行多智能体训练时，预期看到：
- 每10个轮次输出一次进度
- 平均奖励值逐渐上升
- 平均时延逐渐下降
- 任务完成率逐渐提高

### 完整实验结果

运行`run_full_experiment.py`后，将在`results/`目录生成：
- `full_experiment_results.json`：详细实验数据
- `experiment_summary.md`：实验结果报告

报告中将包含不同算法的性能对比，预期MATD3-MIG算法在时延、能耗和完成率等指标上优于基线算法。

### 系统功能完整性

通过`main.py`的系统功能检查（选项9），可以验证：
- 所有关键文件都存在
- 目录结构完整
- 基本功能正常

**Section sources**
- [demo.py](file://demo.py#L1-L198)
- [run_full_experiment.py](file://run_full_experiment.py#L1-L608)
- [main.py](file://main.py#L1-L215)